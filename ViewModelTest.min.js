var Database=JQB.Schema.Database,Table=JQB.Schema.Table;describe("ViewModelSql",function(){var n="accounts,id,char,PRI\naccounts,name,varchar,\nusers,id,char,PRI\nusers,account_id,char,\nusers,name,varchar,\n";it("should build a simple one-table query",function(){var t=new JQB.ViewModel({schemaCsv:n});t.addTableToQuery(t.schema().table("accounts")),expect(t.sql()).toBe("select t0.`name`\nfrom `accounts` t0")}),it("should build a simple two-table join",function(){var t=new JQB.ViewModel({schemaCsv:n});t.addTableToQuery(t.schema().table("accounts")),t.addTableToQuery(t.schema().table("users")),expect(t.sql()).toBe("select t0.`name`, t1.`name`\nfrom `accounts` t0\njoin `users` t1 on t1.`account_id` = t0.`id`")})})